angular.module("servicesModule").factory("paginationData",["service",function(e){function t(e,t){if(this.records=[],this.pageState=null,this.pageIndex=-1,this.fetching=!1,this.dataField="data",this.dataMapping=function(e){return e},"object"==typeof e&&1===arguments.length){var a=e;this.sourceUrl=a.sourceUrl,this.queryData=a.queryData,this.dataField=a.dataField||this.dataField,this.dataMapping=a.dataMapping||this.dataMapping,this.pageSize=a.pageSize}else this.sourceUrl=e,this.queryData=t}return t.prototype.getNextPage=function(t){if(this.pageIndex<this.records.length-1)this.pageIndex++;else{var a=this;e.executePromiseAvoidDuplicate(this,"fetching",function(){return e.post(a.sourceUrl,angular.extend({},a.queryData,t,{pageState:a.pageState,pageSize:a.pageSize})).then(function(e){e[a.dataField]&&(a.pageIndex++,a.records.push(a.dataMapping(e[a.dataField]))),a.pageState=e.pageState})})}},t.prototype.getPrevPage=function(){this.pageIndex--},t.prototype.getPages=function(){return new Array(this.records.length)},t}]);