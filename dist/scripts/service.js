angular.module("servicesModule").factory("service",["$http","$q",function(e,r){function n(e){var n=r.defer();return e.success(function(r){r.isSuccess?n.resolve(r.result):(console.error(r),console.error(e.value),"undefined"!=typeof r.code?(n.reject(r),"302"===String(r.code)&&(window.location.href=r.message)):n.reject(r.message||"服务器返回错误的数据"))}).error(function(e){n.reject(e),e&&e.code&&"401"===String(e.code)&&(window.location.href="/sign-in?return_url="+encodeURIComponent(window.location.href))}),n.promise}var o={};for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(o[t]=function(r){return function(){return n(e[r].apply(this,Array.prototype.slice.call(arguments)))}}(t));return o.executePromiseAvoidDuplicate=function(e,n,o){var t=r.defer();return e[n]?(t.reject("submitting..."),t):(e[n]=!0,o()["finally"](function(){e[n]=!1}))},o}]);